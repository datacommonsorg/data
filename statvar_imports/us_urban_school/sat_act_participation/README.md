#### Copyright 2025 Google LLC
####
#### Licensed under the Apache License, Version 2.0 (the "License");
#### you may not use this file except in compliance with the License.
#### You may obtain a copy of the License at
####
####    https://www.apache.org/licenses/LICENSE-2.0
####
#### Unless required by applicable law or agreed to in writing, software
#### distributed under the License is distributed on an "AS IS" BASIS,
#### WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#### See the License for the specific language governing permissions and
#### limitations under the License.

-----

# US_SAT_ACT_Participation Import

This dataset contains participation in Scholastic Assessment Test or American College Testing for each school by students' race and sex,  Limited English Proficiency status and sex, and disability status and sex.

-----

## ⚙️ Workflow

The workflow for this data import involves two main steps: downloading the necessary files and then processing them.

### Autorefresh type

This import uses a fully automated refresh process.

-----

### Single execution

To download and process in one go, run the following script

```bash
sh run_download_process.sh
```

### Individual Execution

To execute the command file by file, here are the following steps

#### Step 1: Download the Source Data

To acquire the necessary data files, execute the download script `download_schoollevel.py`.

```bash
python3 download_schoollevel.py --data_type=sat_act
```

All downloaded files will be stored in the directory `/input_files`.

#### Step 2: Process the Files

After successfully downloading the files, run the processing script to generate the final output artifacts. There are two ways to do this:

#### **Execution Commands**

The final output is generated by processing the downloaded data using the stat_var_processor.py script, which is located in the data/tools/statvar_importer/ directory.

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/sat_act_participation/input_files_school/2012_SAT_ACT_Participation.xlsx \
--pv_map=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_pvmap.csv \ --config_file=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_metadata.csv \ --output_path=../../../statvar_imports/us_urban_school/sat_act_participation/output_files/output_2012 \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/sat_act_participation/input_files_school/2014_SAT_ACT_Participation.xlsx \
--pv_map=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_pvmap.csv \ --config_file=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_metadata.csv \ --output_path=../../../statvar_imports/us_urban_school/sat_act_participation/output_files/output_2014 \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/sat_act_participation/input_files_school/2018_SAT_ACT_Participation.csv \
--pv_map=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_pvmap.csv \ --config_file=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_metadata.csv \ --output_path=../../../statvar_imports/us_urban_school/sat_act_participation/output_files/output_2018 \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/sat_act_participation/input_files_school/2021_SAT_ACT_Participation.csv \
--pv_map=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_pvmap.csv \ --config_file=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_metadata.csv \ --output_path=../../../statvar_imports/us_urban_school/sat_act_participation/output_files/output_2021 \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/sat_act_participation/input_files_school/2022_SAT_ACT_Participation.csv \
--pv_map=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_pvmap.csv \ --config_file=../../../statvar_imports/us_urban_school/sat_act_participation/config/sat_act_participation_college_metadata.csv \ --output_path=../../../statvar_imports/us_urban_school/sat_act_participation/output_files/output_2022 \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf
```