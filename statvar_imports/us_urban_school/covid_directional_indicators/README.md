#### Copyright 2025 Google LLC
####
#### Licensed under the Apache License, Version 2.0 (the "License");
#### you may not use this file except in compliance with the License.
#### You may obtain a copy of the License at
####
####    https://www.apache.org/licenses/LICENSE-2.0
####
#### Unless required by applicable law or agreed to in writing, software
#### distributed under the License is distributed on an "AS IS" BASIS,
#### WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#### See the License for the specific language governing permissions and
#### limitations under the License.

-----

# US_UrbanSchool_Covid_Directional_Indicators Import

The primary purpose of this import is to capture information about the method and extent of instruction offered by schools during the Coronavirus Pandemic, which significantly affected traditional learning environments.

-----

## ⚙️ Workflow

The workflow for this data import involves two main steps: downloading the necessary files and then processing them.

### Step 1: Download the Source Data

To acquire the necessary data files, execute the download script `download.py`.

```bash
python3 download.py --data_type=covid
```

All downloaded files will be stored in the directory `input_files`.

### Autorefresh type

This import uses a fully automated refresh process.

-----

### Step 2: Process the Files

After successfully downloading the files, run the processing script to generate the final output artifacts. There are two ways to do this:

**Option A: Use the `run.sh` script**

The `run.sh` script automates the processing of all the downloaded files.

**Run the following command:**

```bash
sh run.sh
```

**Option B: Manually Execute the Processing Script**

#### **Execution Commands**

The final output is generated by processing the downloaded data using the stat_var_processor.py script, which is located in the data/tools/statvar_importer/ directory.

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/covid_directional_indicators/input_files/*.csv \
--pv_map=../../../statvar_imports/us_urban_school/covid_directional_indicators/covid_directional_indicators_pv_map1.csv \
--config_file=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/covid _directional_indicators_metadata.csv \
--places_resolved_csv=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/place_resolved.csv \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf \
--output_path=../../../statvar_imports/us_urban_school/covid_directional_indicators/output_files/covid_directional_indicators_output1
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/covid_directional_indicators/input_files/*.csv \
--pv_map=../../../statvar_imports/us_urban_school/covid_directional_indicators/covid_directional_indicators_pv_map2.csv \
--config_file=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/covid _directional_indicators_metadata.csv \
--places_resolved_csv=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/place_resolved.csv \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf \
--output_path=../../../statvar_imports/us_urban_school/covid_directional_indicators/output_files/covid_directional_indicators_output2
```

```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/covid_directional_indicators/input_files/*.csv \
--pv_map=../../../statvar_imports/us_urban_school/covid_directional_indicators/covid_directional_indicators_pv_map3.csv \
--config_file=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/covid _directional_indicators_metadata.csv \
--places_resolved_csv=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/place_resolved.csv \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf \
--output_path=../../../statvar_imports/us_urban_school/covid_directional_indicators/output_files/covid_directional_indicators_output3
```
```bash
python3 stat_var_processor.py \
--input_data=../../../statvar_imports/us_urban_school/covid_directional_indicators/input_files/*.csv \
--pv_map=../../../statvar_imports/us_urban_school/covid_directional_indicators/covid_directional_indicators_pv_map4.csv \
--config_file=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/covid _directional_indicators_metadata.csv \
--places_resolved_csv=../../../statvar_imports/covid_directional_indicators/covid_directional_indicators/place_resolved.csv \
--existing_statvar_mcf=gs://unresolved_mcf/scripts/statvar/stat_vars.mcf \
--output_path=../../../statvar_imports/us_urban_school/covid_directional_indicators/output_files/covid_directional_indicators_output4
```

